{"version":3,"sources":["components/logo.svg","components/Header.js","components/TokenSend.js","reducers/reducer.js","utils/TokenWallet.js","utils/web3Modal.js","components/Explainer.js","App.js","reportWebVitals.js","index.js"],"names":["Header","onClickFunction","buttonText","React","useState","show","setShow","Flex","as","align","justify","wrap","padding","bg","color","mr","Image","src","Logo","height","Box","display","base","md","onClick","fill","width","viewBox","xmlns","d","sm","alignItems","flexGrow","mt","Button","border","TokenSend","store","dispatch","useForm","register","handleSubmit","updateBalance","a","undefined","tokenWallet","parseFloat","token","balanceOf","address","toString","Math","pow","newBalance","toFixed","type","tokenBalance","useInterval","onSubmit","data","console","log","ethers","utils","estimateTransferCost","to","amount","formatEther","fee","approveFeeProxy","permitFeeProxy","approveTransferHandler","permitTransferHandler","loggedIn","transferHandlerApproved","feeProxyApproved","value","bgColor","fgColor","Text","fontSize","fontWeight","Input","name","ref","pattern","placeholder","size","min","w","leftIcon","isDisabled","reducer","state","action","logOutModal","loading","txModal","transferHandlerApproval","feeProxyApproval","transferAmount","transferFee","transferDestination","txHash","tokenGasPrice","tokenAddress","feeProxyAddress","transferHandlerAddress","biconomyX","tokenAbi","provider","providers","InfuraProvider","oracleAggregator","Contract","transferHandler","feeProxy","daiDomainData","version","chainId","verifyingContract","feeProxyDomainData","erc20ForwardRequestType","domainType","permitType","getGasPrice","fetch","response","json","responseJson","JSON","stringify","parseUnits","result","FastGasPrice","TokenWallet","wallet","this","getSigner","getAddress","allowance","BigNumber","gasPrice","from","getTokenPrice","tokenPrice","getTokenOracleDecimals","tokenOracleDecimals","mul","div","forwardPermit","toPermit","userAddress","nonces","nonce","permitDataToSign","types","EIP712Domain","Permit","domain","primaryType","message","holder","spender","expiry","allowed","send","signature","substring","r","s","v","parseInt","metaTxBody","apiId","params","method","headers","body","biconomy","getTokenGasPrice","estimateTransferGas","toNumber","getNonce","floor","Date","now","populateTransaction","transfer","req","txGas","batchId","batchNonce","deadline","domainSeparator","keccak256","defaultAbiCoder","encode","id","erc20fr","Object","assign","dataHash","dataToSign","ERC20ForwardRequest","sig","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","web3Modal","Web3Modal","cacheProvider","Explainer","App","useReducer","headerButtonFunction","connect","walletModal","Web3Provider","Token","balance","cancelTx","submitTx","forwardTransfer","parseEther","ThemeProvider","CSSReset","Modal","isOpen","onClose","length","variantColor","window","open","CircularProgress","isIndeterminate","pt","boxShadow","borderRadius","p","my","mx","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a20ab90.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.ed1865ad.svg\";","import React from \"react\";\nimport Logo from './logo.svg';\nimport { Box, Heading, Flex, Text, Button, Image } from \"@chakra-ui/core\";\n\nconst MenuItems = ({ children }) => (\n  <Text mt={{ base: 4, md: 0 }} mr={6} display=\"block\">\n    {children}\n  </Text>\n);\n\nconst Header = ({onClickFunction,buttonText}) => {\n  const [show, setShow] = React.useState(false);\n  const handleToggle = () => setShow(!show);\n\n  return (\n    <Flex\n      as=\"nav\"\n      align=\"center\"\n      justify=\"space-between\"\n      wrap=\"wrap\"\n      padding=\"1.5rem\"\n      bg=\"teal.900\"\n      color=\"white\"\n    >\n      <Flex align=\"center\" mr={5}>\n        <Image src={Logo} height='50px'/>\n      </Flex>\n\n      <Box display={{ base: \"block\", md: \"none\" }} onClick={handleToggle}>\n        <svg\n          fill=\"white\"\n          width=\"12px\"\n          viewBox=\"0 0 20 20\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <title>Menu</title>\n          <path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\" />\n        </svg>\n      </Box>\n\n      <Box\n        display={{ sm: show ? \"block\" : \"none\", md: \"flex\" }}\n        width={{ sm: \"full\", md: \"auto\" }}\n        alignItems=\"center\"\n        flexGrow={1}\n      >\n      </Box>\n\n      <Box\n        display={{ sm: show ? \"block\" : \"none\", md: \"block\" }}\n        mt={{ base: 4, md: 0 }}\n      >\n        <Button onClick={onClickFunction} bg=\"transparent\" border=\"1px\">\n          {buttonText}\n        </Button>\n      </Box>\n    </Flex>\n  );\n};\n\nexport default Header;","import { Text,Button,Input } from \"@chakra-ui/core\";\nimport QRCode from \"react-qr-code\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { ethers } from \"ethers\";\nimport useInterval from '@use-it/interval';\n\n\n\nfunction TokenSend({store,dispatch}){\n\n    const { register, handleSubmit } = useForm();\n\n    const updateBalance = async() => {\n        if (store.tokenWallet!==undefined){\n            const newBalance = (parseFloat((await store.tokenWallet.token.balanceOf(store.address)).toString())/(Math.pow(10,18))).toFixed(2);\n            dispatch({type:'UPDATE_BALANCE',tokenBalance:newBalance});\n        }\n    }\n\n    useInterval(updateBalance,4000);\n\n    const onSubmit = async(data) => {\n        console.log(\"submitted\");\n        const fee = parseFloat(ethers.utils.formatEther(await store.tokenWallet.estimateTransferCost(data.to,data.amount))).toFixed(2);\n        console.log(\"fee : \" + fee);\n        dispatch({type:'PROPOSE_TX',amount:data.amount, fee:fee, to:data.to});\n    }\n    \n    const approveFeeProxy = async() => {\n        dispatch({type:'LOADING'});\n        try{\n            await store.tokenWallet.permitFeeProxy();\n            dispatch({type:'FEE_PROXY_APPROVED'});\n        }\n        catch(error){\n            console.log(error);\n        }\n        dispatch({type:'NOT_LOADING'});\n    }\n\n    const approveTransferHandler = async() => {\n        dispatch({type:'LOADING'});\n        try{\n            await store.tokenWallet.permitTransferHandler();\n            dispatch({type:'TRANSFER_HANDLER_APPROVED'});\n        }\n        catch(error){\n            console.log(error);\n        }\n        dispatch({type:'NOT_LOADING'});\n    }\n\n    if(!store.loggedIn){\n        return(\n            <div>\n            </div>\n            )\n    }\n    if((!store.transferHandlerApproved)||(!store.feeProxyApproved)){\n        return(\n            <div>\n                <QRCode value={\"ethereum:\"+store.address} bgColor=\"#FEEBC8\" fgColor=\"#1D4044\"/>\n                <Text fontSize=\"96px\" fontWeight=\"600\" color=\"teal.900\">◈ {store.tokenBalance} </Text>\n                <Text fontSize=\"3xl\" color=\"red.900\" fontWeight=\"600\"> Approval Needed to Proceed </Text>\n                <Button onClick={approveFeeProxy} isDisabled={store.feeProxyApproved} leftIcon=\"lock\" bg=\"red.700\" color=\"orange.200\">Approve Biconomy Fee Proxy</Button><br></br><br></br>\n                <Button onClick={approveTransferHandler} isDisabled={store.transferHandlerApproved} leftIcon=\"lock\" bg=\"red.700\" color=\"orange.200\">Approve Transfer Handler</Button><br></br><br></br>\n            </div>\n        )\n    }\n    return(\n    <div>\n        <QRCode value={\"ethereum:\"+store.address} bgColor=\"#FEEBC8\" fgColor=\"#1D4044\"/>\n        <Text fontSize=\"72px\" fontWeight=\"600\" color=\"teal.900\">◈ {store.tokenBalance} </Text>\n        <form onSubmit={handleSubmit(onSubmit)}>\n        <Text fontSize=\"xl\" color=\"teal.900\" fontWeight=\"600\"> Send To</Text>\n        <Input name=\"to\" ref={register({pattern: /^0x[a-fA-F0-9]{40}$/})} placeholder=\"Enter Destination Address\" size=\"lg\"/><br></br>\n        <Text fontSize=\"xl\" color=\"teal.900\" fontWeight=\"600\"> Amount To Send</Text>\n        <Input type=\"number\" name=\"amount\" ref={register({min:0})} placeholder=\"e.g 420.69\" size=\"lg\"/><br></br>\n        <Button type=\"submit\" w=\"100%\" leftIcon=\"arrow-right\" bg=\"teal.700\" color=\"orange.200\">Send</Button>\n        </form>\n    </div>\n    )\n}\n\nexport default TokenSend;","function reducer(state, action) {\n    switch(action.type) {\n\n        case 'LOGIN':\n          return{\n              logOutModal:false,\n              loading:false,\n              loggedIn:true,\n              txModal:false,\n              tokenWallet:action.tokenWallet,\n              address:action.address,\n              tokenBalance:action.tokenBalance,\n              transferHandlerApproved:action.transferHandlerApproved,\n              transferHandlerApproval:null,\n              feeProxyApproved:action.feeProxyApproved,\n              feeProxyApproval:null,\n              transferAmount:\"\",\n              transferFee:\"\",\n              transferDestination:\"\",\n              txHash:\"\"\n          }\n\n        case 'LOGOUT':\n            return{\n                loggedIn:false,\n                loading:false,\n                txModal:false,\n                tokenWallet:undefined,\n                tokenBalance:0,\n                transferDestination:\"\"\n            }\n\n        case 'LOGOUT_MODAL':\n            return{\n                ...state,\n                logOutModal:true\n            }\n\n        case 'CANCEL_LOGOUT_MODAL':\n            return{\n                ...state,\n                logOutModal:false\n            }\n\n        case 'UPDATE_BALANCE':\n            return{\n              ...state,\n              tokenBalance:action.tokenBalance\n            }\n\n        case 'UPDATE_TOKEN_GAS_PRICE':\n            return{\n                ...state,\n                tokenGasPrice:action.tokenGasPrice\n            }\n\n        case 'LOADING':\n            return{\n                ...state,\n                loading:true\n            }\n\n        case 'NOT_LOADING':\n            return{\n                ...state,\n                loading:false\n            }\n\n        case 'SIGN_TRANSFER_HANDLER_APPROVAL':\n            return {\n                ...state,\n                transferHandlerApproval:action.transferHandlerApproval\n            }\n\n        case 'TRANSFER_HANDLER_APPROVED':\n            return {\n                ...state,\n                transferHandlerApproved:true\n            }\n\n        case 'SIGN_FEE_PROXY_APPROVAL':\n            return {\n                ...state,\n                feeProxyApproval:action.feeProxyApproval\n            }\n        \n        case 'FEE_PROXY_APPROVED':\n            return {\n                ...state,\n                feeProxyApproved:true\n            }\n\n        case 'PROPOSE_TX':\n            return {\n                ...state,\n                transferAmount:action.amount,\n                transferFee:action.fee,\n                transferDestination:action.to,\n                txModal:true\n            }\n\n        case 'CANCEL_TX_MODAL' :\n            return {\n                ...state,\n                txModal:false\n            }\n\n        case 'TX_HASH':\n            return{\n                ...state,\n                txHash:action.txHash\n            }\n\n        default:\n            return state\n    }\n  };\n\n  export default reducer;","import { ethers } from \"ethers\";\n\nconst tokenAddress = \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\";\nconst feeProxyAddress = \"0x78122426ee7a6D35f15c4095b4Aa72A2A6418202\";\nconst transferHandlerAddress = \"0x4AB0652B1049607F9E51E61144767d1C978950d0\";\nconst oracleAggregatorAddress = \"0x025d39AA202A552487ac9282dC343773cb60bbB5\";\n\nconst permitAPIId = \"3d944962-5461-4489-ba92-4fbdf5860894\";\nconst executeAPIId = \"9ef1709e-385b-4590-9786-890fc086c0c4\";\nconst biconomyX = \"xR3-_k6UZ.87776d1b-d23a-4a7c-8ab2-d651a8c92341\";\n\nconst tokenAbi = [{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"chainId_\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"guy\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":true,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes4\",\"name\":\"sig\",\"type\":\"bytes4\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"arg1\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"arg2\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"LogNote\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[],\"name\":\"DOMAIN_SEPARATOR\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PERMIT_TYPEHASH\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"guy\",\"type\":\"address\"}],\"name\":\"deny\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"move\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"nonces\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"permit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"pull\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"usr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"push\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"guy\",\"type\":\"address\"}],\"name\":\"rely\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"wards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}];\nconst oracleAggregatorAbi = [{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"ethGasPrice\",\"type\":\"uint256\"}],\"name\":\"getTokenGasPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenGasPriceUnadjusted\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getTokenOracleDecimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"_tokenOracleDecimals\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getTokenPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenPriceUnadjusted\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"callAddress\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"decimals\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"},{\"internalType\":\"bool\",\"name\":\"signed\",\"type\":\"bool\"}],\"name\":\"setTokenOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\nconst transferHandlerAbi = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_forwarder\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"forwarder\",\"type\":\"address\"}],\"name\":\"isTrustedForwarder\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"trustedForwarder\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"versionRecipient\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\nconst feeProxyAbi = [{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_transferHandlerGas\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_feeReceiver\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_feeManager\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"_forwarder\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"batchId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"batchNonce\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"charge\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"FeeCharged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"txGas\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenGasPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"batchId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"batchNonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct ERC20ForwardRequestTypes.ERC20ForwardRequest\",\"name\":\"req\",\"type\":\"tuple\"},{\"internalType\":\"bytes32\",\"name\":\"domainSeparator\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"sig\",\"type\":\"bytes\"}],\"name\":\"executeEIP712\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"ret\",\"type\":\"bytes\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"txGas\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenGasPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"batchId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"batchNonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct ERC20ForwardRequestTypes.ERC20ForwardRequest\",\"name\":\"req\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"sig\",\"type\":\"bytes\"}],\"name\":\"executePersonalSign\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"ret\",\"type\":\"bytes\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feeReceiver\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"batchId\",\"type\":\"uint256\"}],\"name\":\"getNonce\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"oracleAggregator\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_feeManager\",\"type\":\"address\"}],\"name\":\"setFeeManager\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_feeReceiver\",\"type\":\"address\"}],\"name\":\"setFeeReceiver\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oa\",\"type\":\"address\"}],\"name\":\"setOracleAggregator\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_transferHandlerGas\",\"type\":\"uint256\"}],\"name\":\"setTransferHandlerGas\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\nconst feeManagerAbi = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getFeeMultiplier\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"basisPoints\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getTokenAllowed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\nconst provider = new ethers.providers.InfuraProvider(\"kovan\",\"d126f392798444609246423b06116c77\");\nconst oracleAggregator = new ethers.Contract(oracleAggregatorAddress,oracleAggregatorAbi,provider);\nconst transferHandler = new ethers.Contract(transferHandlerAddress,transferHandlerAbi,provider);\nconst feeProxy = new ethers.Contract(feeProxyAddress,feeProxyAbi,provider);\n\n\nlet daiDomainData = {\n    name : \"Dai Stablecoin\",\n    version : \"1\",\n    chainId : 42,\n    verifyingContract : \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\"\n  };\n\nlet feeProxyDomainData = {\n    name : \"TEST\",\n    version : \"1\",\n    chainId : 42,\n    verifyingContract : \"0xBFA21CD2F21a8E581E77942B2831B378d2378E69\"\n  };\n\n  const erc20ForwardRequestType = [\n    {name:'from',type:'address'},\n    {name:'to',type:'address'},\n    {name:'token',type:'address'},\n    {name:'txGas',type:'uint256'},\n    {name:'tokenGasPrice',type:'uint256'},\n    {name:'batchId',type:'uint256'},\n    {name:'batchNonce',type:'uint256'},\n    {name:'deadline',type:'uint256'},\n    {name:'dataHash',type:'bytes32'}\n];\n  \n  const domainType = [\n    { name: \"name\", type: \"string\" },\n    { name: \"version\", type: \"string\" },\n    { name: \"chainId\", type: \"uint256\" },\n    { name: \"verifyingContract\", type: \"address\" }\n  ];\n  \n  const permitType = [\n    { name: \"holder\", type: \"address\" },\n    { name: \"spender\", type: \"address\" },\n    { name: \"nonce\", type: \"uint256\" },\n    { name: \"expiry\", type: \"uint256\" },\n    { name: \"allowed\", type: \"bool\" }\n  ];\n\nconst getGasPrice = async() => {\n    const response = await fetch(\"https://api.etherscan.io/api?module=gastracker&action=gasoracle&apikey=P7JFS2YI6MNZFVY95FDMV45EGIX6F1BPAV\");\n    const responseJson = await response.json();\n    console.log(\"Response JSON \"+ JSON.stringify(responseJson));\n    return (ethers.utils.parseUnits(responseJson.result.FastGasPrice,\"gwei\")).toString();\n}\n\nclass TokenWallet{\n\n    constructor(wallet){\n        this.token = new ethers.Contract(tokenAddress,tokenAbi,provider);\n        this.wallet = wallet;\n    }\n\n    async transferHandlerApproved(){\n        const allowance = await this.token.allowance(await (await this.wallet.getSigner()).getAddress(),transferHandlerAddress);\n        if (allowance > 0)\n            return true;\n        else\n            return false;\n    }\n\n    async feeProxyApproved(){\n        const allowance = await this.token.allowance(await (await this.wallet.getSigner()).getAddress(),feeProxyAddress);\n        if (allowance > 0)\n            return true;\n        else\n            return false;\n    }\n\n    async getTokenGasPrice(){\n        const gasPrice = ethers.BigNumber.from(await getGasPrice());\n        const tokenPrice = await oracleAggregator.getTokenPrice(tokenAddress);\n        const tokenOracleDecimals = await oracleAggregator.getTokenOracleDecimals(tokenAddress);\n        console.log(\"token oracle decimals \"+tokenOracleDecimals.toString());\n        console.log(\"token gas price \" + ((gasPrice.mul((ethers.BigNumber.from(10)).pow(tokenOracleDecimals))).div(tokenPrice)).toString());\n        return ((gasPrice.mul((ethers.BigNumber.from(10)).pow(tokenOracleDecimals))).div(tokenPrice)).toString();\n    }\n\n    async permitFeeProxy(){\n        await this.forwardPermit(feeProxyAddress);\n    }\n\n    async permitTransferHandler(){\n        await this.forwardPermit(transferHandlerAddress);\n    }\n\n    async forwardPermit(toPermit){\n        const userAddress = await (await this.wallet.getSigner()).getAddress();\n        const nonce = await this.token.nonces(userAddress);\n        const permitDataToSign = {\n            types: {\n                EIP712Domain: domainType,\n                Permit: permitType\n            },\n            domain: daiDomainData,\n            primaryType: \"Permit\",\n            message: {\n                holder :userAddress,\n                spender : toPermit,\n                nonce: nonce.toString(),\n                expiry: \"1000000000000000000000000000\",\n                allowed: true\n            }\n            };\n        const result = await this.wallet.send(\"eth_signTypedData_v4\",[userAddress,JSON.stringify(permitDataToSign)]);\n        console.log(\"success\",result);\n        const signature = result.substring(2);\n        const r = \"0x\" + signature.substring(0, 64);\n        const s = \"0x\" + signature.substring(64, 128);\n        const v = parseInt(signature.substring(128, 130), 16);\n        console.log(\"v r s\",v,\" \",r,\" \",s);\n        const metaTxBody = {to:tokenAddress,apiId:permitAPIId, params:[userAddress,toPermit,nonce.toString(),\"1000000000000000000000000000\",true,v,r,s],\n    from:userAddress};\n        const biconomy = await fetch(\"https://api.biconomy.io/api/v2/meta-tx/native\",\n        {\n        method:'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'x-api-key': biconomyX\n        },\n        body:JSON.stringify(metaTxBody)\n        });\n        console.log(biconomy);\n    }\n\n    async estimateTransferGas(to,amount){\n        return (ethers.BigNumber.from(75000));\n    }\n\n    //(await transferHandler.estimateGas.transfer(tokenAddress,to,amount)\n\n    async estimateTransferCost(to,amount){\n        return (ethers.BigNumber.from(120000)).mul(ethers.BigNumber.from(await this.getTokenGasPrice())).mul(ethers.BigNumber.from(15)).div(ethers.BigNumber.from(10));\n    }\n\n    async forwardTransfer(amount,to){\n        const userAddress = await (await this.wallet.getSigner()).getAddress();\n        const req = {\n            from : userAddress,\n            to : transferHandlerAddress,\n            token : tokenAddress,\n            txGas : (await this.estimateTransferGas(to,amount)).toNumber(),\n            tokenGasPrice : await this.getTokenGasPrice(),\n            batchId : 0,\n            batchNonce : (await feeProxy.getNonce(userAddress,0)).toNumber(),\n            deadline : Math.floor((Date.now()/1000)+3600),\n            data : (await transferHandler.populateTransaction.transfer(tokenAddress,to,amount)).data,\n        };\n        const domainSeparator = ethers.utils.keccak256((ethers.utils.defaultAbiCoder).\n        encode(['bytes32','bytes32','bytes32','uint256','address'],\n               [ethers.utils.id(\"EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)\"),\n               ethers.utils.id(feeProxyDomainData.name),ethers.utils.id(feeProxyDomainData.version),\n               feeProxyDomainData.chainId,feeProxyDomainData.verifyingContract]));\n        const erc20fr = Object.assign({}, req);\n        erc20fr.dataHash = ethers.utils.keccak256(erc20fr.data);\n        delete erc20fr.data;\n        const dataToSign = {\n          types: {\n              EIP712Domain: domainType,\n              ERC20ForwardRequest: erc20ForwardRequestType\n            },\n            domain: feeProxyDomainData,\n            primaryType: \"ERC20ForwardRequest\",\n            message: erc20fr\n          };\n        const sig = await this.wallet.send(\"eth_signTypedData_v4\",[req.from,JSON.stringify(dataToSign)]);\n        const metaTxBody = {to:feeProxyAddress,apiId:executeAPIId,params:[req,domainSeparator,sig],from:userAddress};\n        const biconomy = await fetch(\"https://api.biconomy.io/api/v2/meta-tx/native\",\n        {\n        method:'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'x-api-key': biconomyX\n        },\n        body:JSON.stringify(metaTxBody)\n        });\n        const responseJson = await biconomy.json();\n        return responseJson['txHash'];\n    }\n\n}\n\nexport default TokenWallet;","import Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n\nconst providerOptions = {\n  walletconnect: {\n    package: WalletConnectProvider, // required\n    options: {\n      infuraId: \"d126f392798444609246423b06116c77\" // required\n    }\n  }\n};\n\nconst web3Modal = new Web3Modal({\n  cacheProvider: false, // optional\n  providerOptions // required\n});\n\nexport default web3Modal;","import { Text } from \"@chakra-ui/core\";\n\nfunction Explainer({loggedIn}){\n    if(loggedIn==false){\n    return(\n        <div>\n            <Text fontSize=\"3xl\">This demo showcases our new ERC20Forwarder system</Text>\n            <Text fontSize=\"xl\"><br></br>It allows you to make dApps which charge users for gas in ERC20 tokens, instead of Ether</Text>\n            <Text fontSize=\"3xl\">Please login (connect wallet) to proceed :)</Text>\n        </div>\n    )}\n    else{\n       return(<div></div>)\n    }\n}\n\n\nexport default Explainer;","import Header from './components/Header';\nimport TokenSend from './components/TokenSend';\nimport reducer from './reducers/reducer';\nimport Token from './utils/TokenWallet';\nimport web3Modal from './utils/web3Modal';\nimport { ThemeProvider, CSSReset, Box, Text, Button, Heading} from '@chakra-ui/core';\nimport { ethers } from \"ethers\";\nimport {useReducer} from \"react\";\nimport Explainer from './components/Explainer';\nimport {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalFooter,\n  ModalBody,\n  ModalCloseButton,\n} from \"@chakra-ui/core\";\nimport { CircularProgress, CircularProgressLabel } from \"@chakra-ui/core\";\n\nfunction App() {\n  console.log(reducer);\n  const [store, dispatch] = useReducer(reducer,{\n    loggedIn:false,\n    loading:false,\n    txModal:false,\n    tokenBalance:0,\n    transferDestination:\"\",\n    txHash:\"\"\n});\n\n  const headerButtonFunction = async() => {\n    if (store.loggedIn){\n      console.log(store);\n      dispatch({type:'LOGOUT_MODAL'});\n    }\n    else{\n      try{\n        const walletModal = await web3Modal.connect();\n        const provider = new ethers.providers.Web3Provider(walletModal);\n        const wallet = provider.getSigner();\n        const address = await wallet.getAddress();\n        const tokenWallet = new Token(provider);\n        const balance = (parseFloat((await tokenWallet.token.balanceOf(address)).toString())/(Math.pow(10,18))).toFixed(2);\n        const transferHandlerApproved = await tokenWallet.transferHandlerApproved(address);\n        const feeProxyApproved = await tokenWallet.feeProxyApproved(address);\n        dispatch({type:'LOGIN', tokenWallet:tokenWallet, address:address, tokenBalance:balance, \n                  transferHandlerApproved:transferHandlerApproved,feeProxyApproved:feeProxyApproved});\n      }\n      catch(error){\n        console.log(error);\n      }\n    }\n  }\n\n  const logOut = () => {\n    dispatch({type:'LOGOUT'})\n  }\n\n  const cancelLogOut = () => {\n    dispatch({type:'CANCEL_LOGOUT_MODAL'})\n  }\n\n  const cancelTx = () => {\n    dispatch({type:'CANCEL_TX_MODAL'})\n  }\n\n  const submitTx = async() => {\n    dispatch({type:'CANCEL_TX_MODAL'});\n    dispatch({type:'LOADING'});\n    try{\n      const txHash = await store.tokenWallet.forwardTransfer(ethers.utils.parseEther(store.transferAmount),store.transferDestination);\n      const newBalance = (parseFloat((await store.tokenWallet.token.balanceOf(store.address)).toString())/(Math.pow(10,18))).toFixed(2);\n      console.log(txHash);\n      dispatch({type:'UPDATE_BALANCE',tokenBalance:newBalance});\n      dispatch({type:'TX_HASH',txHash:txHash});\n    }\n    catch(error){\n      console.log(error);\n    }\n    dispatch({type:'NOT_LOADING'});\n  }\n\n  const viewEtherscan = () => {\n    window.open(\"https://kovan.etherscan.io/tx/\"+store.txHash);\n  }\n\n  return (\n    <ThemeProvider>\n      <CSSReset />\n\n      <Modal isOpen={store.txModal} onClose={cancelTx}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Transaction Details</ModalHeader>\n          <ModalBody>\n            <Text fontWeight=\"600\" fontSize=\"3xl\">You're sending ◈{store.transferAmount}</Text>\n  <Text fontSize=\"2xl\">to {store.transferDestination.substring(0, 7)}......{store.transferDestination.substring(store.transferDestination.length-6)}</Text><br></br>\n            <Text fontSize=\"2xl\">(paying a ◈{store.transferFee} fee)</Text>\n          </ModalBody>\n          <ModalFooter>\n            <Button variantColor=\"red\" mr={3} onClick={cancelTx}>\n              CANCEL\n            </Button>\n            <Button variantColor=\"blue\" onClick={submitTx}>CONFIRM</Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n\n      <Modal isOpen={store.logOutModal} onClose={cancelLogOut}>\n        <ModalOverlay />\n        <ModalContent padding=\"20px\">\n        <ModalHeader>Options</ModalHeader>\n        <ModalCloseButton />\n            <Button variantColor=\"red\" onClick={logOut}> Log Out </Button>\n          <ModalHeader></ModalHeader>\n          <Button variantColor=\"blue\" onClick={viewEtherscan}>View Previous Transaction</Button>\n        </ModalContent>\n      </Modal>\n\n      <Modal isOpen={store.loading}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalBody>\n            <CircularProgress size=\"240px\" isIndeterminate color=\"green\"></CircularProgress>\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n      <Box width=\"100%\">\n        <Text>PLEASE SET YOUR WEB3 PROVIDER TO KOVAN</Text>\n      </Box>\n      <Header buttonText={store.loggedIn?\"⚙️ \"+store.address:\"Login\"} onClickFunction={headerButtonFunction} />\n      <Box pt=\"50px\">\n\n        <Box boxShadow=\"lg\" borderRadius=\"20px\" p=\"40px\" w=\"400px\" my=\"auto\" mx=\"auto\" color=\"black\" bg=\"orange.100\">\n          <Explainer loggedIn={store.loggedIn}/>\n          <TokenSend store={store} dispatch={dispatch}/>\n        </Box>\n      </Box>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}